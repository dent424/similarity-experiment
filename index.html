<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Similarity Study</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    <!-- Consent Page -->
    <div id="consent-page" class="page">
      <h1>Consent Form</h1>
      <div class="content">
        <p>[PLACEHOLDER: Insert consent form text here]</p>
      </div>
      <div class="button-group">
        <button id="consent-btn" class="btn-primary">I Agree</button>
        <button id="no-consent-btn" class="btn-secondary">I Do Not Agree</button>
      </div>
    </div>

    <!-- No Consent Page -->
    <div id="no-consent-page" class="page hidden">
      <h1>Thank you</h1>
      <div class="content">
        <p>You have chosen not to participate in this study.</p>
        <p>You may now close this window.</p>
      </div>
    </div>

    <!-- Screening Page -->
    <div id="screening-page" class="page hidden">
      <h1>A Few Quick Questions</h1>
      <div class="content">
        <p>Before we begin, please answer a few quick questions about yourself.</p>
      </div>

      <div class="screening-questions">
        <div class="screening-question">
          <p class="question-text">1. How often do you shop online?</p>
          <div class="options">
            <label class="option"><input type="radio" name="sq1" value="never"><span>Never</span></label>
            <label class="option"><input type="radio" name="sq1" value="rarely"><span>Rarely</span></label>
            <label class="option"><input type="radio" name="sq1" value="monthly"><span>A few times a month</span></label>
            <label class="option"><input type="radio" name="sq1" value="weekly"><span>Weekly or more</span></label>
          </div>
        </div>

        <div class="screening-question" data-filter="coffee">
          <p class="question-text">2. Do you drink coffee?</p>
          <div class="options">
            <label class="option"><input type="radio" name="sq2" value="yes"><span>Yes</span></label>
            <label class="option"><input type="radio" name="sq2" value="no"><span>No</span></label>
          </div>
        </div>

        <div class="screening-question">
          <p class="question-text">3. Do you typically read product reviews before making a purchase?</p>
          <div class="options">
            <label class="option"><input type="radio" name="sq3" value="always"><span>Always</span></label>
            <label class="option"><input type="radio" name="sq3" value="usually"><span>Usually</span></label>
            <label class="option"><input type="radio" name="sq3" value="sometimes"><span>Sometimes</span></label>
            <label class="option"><input type="radio" name="sq3" value="never"><span>Never</span></label>
          </div>
        </div>
      </div>

      <button id="screening-continue-btn" class="btn-primary" disabled>Continue</button>
    </div>

    <!-- Screening Failed Page -->
    <div id="screening-failed-page" class="page hidden">
      <h1>Thank you for your interest</h1>
      <div class="content">
        <p>Unfortunately, you do not meet the eligibility requirements for this study.</p>
        <p id="screening-redirect-message">You will be redirected shortly.</p>
      </div>
    </div>

    <!-- Already Completed Page -->
    <div id="already-completed-page" class="page hidden">
      <h1>Already Completed</h1>
      <div class="content">
        <p>Our records indicate you have already completed this study.</p>
        <p>Each participant may only complete the study once.</p>
        <p>You may now close this window.</p>
      </div>
    </div>

    <!-- Instructions Page -->
    <div id="instructions-page" class="page hidden">
      <h1>Instructions</h1>
      <div class="content">
        <h3>Your Task</h3>
        <p>You will see pairs of espresso makers. For each pair, rate how similar the two products are to each other.</p>

        <h3>How to Rate Similarity</h3>
        <ul class="instruction-list">
          <li><strong>0</strong> = Not at all similar (nothing in common)</li>
          <li><strong>100</strong> = Extremely similar (nearly identical)</li>
          <li>Values in between represent varying degrees of similarity</li>
        </ul>

        <h3>Important</h3>
        <ul class="instruction-list">
          <li>There are no right or wrong answers - we want your honest opinion</li>
          <li>You cannot go back to previous pairs</li>
        </ul>
      </div>

      <div class="comprehension-section">
        <h2>Comprehension Check</h2>
        <p class="comprehension-intro">Answer these questions to continue:</p>

        <div id="comprehension-error" class="error-message hidden">
          One or more answers are incorrect. Please review and try again.
        </div>

        <div class="question-group" data-correct="c">
          <p class="question-text">1. If two products have nothing in common, what rating would you give?</p>
          <div class="options">
            <label class="option"><input type="radio" name="q1" value="a"><span>100</span></label>
            <label class="option"><input type="radio" name="q1" value="b"><span>50</span></label>
            <label class="option"><input type="radio" name="q1" value="c"><span>0</span></label>
          </div>
        </div>

        <div class="question-group" data-correct="b">
          <p class="question-text">2. What does a rating of 100 mean?</p>
          <div class="options">
            <label class="option"><input type="radio" name="q2" value="a"><span>The product is high quality</span></label>
            <label class="option"><input type="radio" name="q2" value="b"><span>The two products are extremely similar</span></label>
            <label class="option"><input type="radio" name="q2" value="c"><span>You prefer the product on the right</span></label>
          </div>
        </div>

        <div class="question-group" data-correct="b">
          <p class="question-text">3. Can you go back and change a previous rating?</p>
          <div class="options">
            <label class="option"><input type="radio" name="q3" value="a"><span>Yes</span></label>
            <label class="option"><input type="radio" name="q3" value="b"><span>No</span></label>
          </div>
        </div>
      </div>

      <button id="start-btn" class="btn-primary" disabled>Start</button>
    </div>

    <!-- Trial Page -->
    <div id="trial-page" class="page hidden">
      <div class="progress">
        <span id="progress-text">Pair 1 of 3</span>
      </div>

      <h2>How similar are these products?</h2>

      <div class="product-pair">
        <div class="product left">
          <img id="product-left-img" src="" alt="Product image">
          <h3 id="product-left-name"></h3>
          <p class="price" id="product-left-price"></p>
          <p id="product-left-desc"></p>
        </div>
        <div class="product right">
          <img id="product-right-img" src="" alt="Product image">
          <h3 id="product-right-name"></h3>
          <p class="price" id="product-right-price"></p>
          <p id="product-right-desc"></p>
        </div>
      </div>

      <div class="slider-container">
        <label class="slider-label">
          <span>Not at all similar</span>
          <span>Extremely similar</span>
        </label>
        <input type="range" id="similarity-slider" min="0" max="100" value="50">
        <div id="slider-value">50</div>
      </div>

      <button id="next-btn" class="btn-primary">Next</button>
    </div>

    <!-- Demographics Page -->
    <div id="demographics-page" class="page hidden">
      <h1>Almost done!</h1>
      <div class="content">
        <p>Please answer a few demographic questions:</p>

        <div class="form-group">
          <label for="age-input">Age:</label>
          <input type="number" id="age-input" min="18" max="120" placeholder="Enter your age" required>
        </div>

        <div class="form-group">
          <label for="gender-select">Gender:</label>
          <select id="gender-select" required>
            <option value="">Select...</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="non-binary">Non-binary</option>
            <option value="prefer-not">Prefer not to say</option>
            <option value="other">Other</option>
          </select>
        </div>
      </div>
      <button id="demographics-submit-btn" class="btn-primary" disabled>Submit</button>
    </div>

    <!-- Completion Page -->
    <div id="complete-page" class="page hidden">
      <h1>Thank you!</h1>
      <p>Your responses have been recorded.</p>
      <p id="redirect-message">Redirecting you back to Prolific...</p>
    </div>
  </div>

  <script type="module" src="experiment.js"></script>
</body>
</html>
